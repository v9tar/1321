--[[
  السكربت يعمل على معظم المنفذين (Executors)
  قم بتشغيله بواسطة زر الحق (Execute)
--]]

local Player = game:GetService("Players").LocalPlayer
local PlayerGui = Player:WaitForChild("PlayerGui")

-- إنشاء واجهة المستخدم الرئيسية
local MainGUI = Instance.new("ScreenGui")
local MainFrame = Instance.new("Frame")
local ToggleMap = Instance.new("TextButton")
local AFKButton = Instance.new("TextButton")
local ExtraBtn1 = Instance.new("TextButton")
local ToggleButtons = Instance.new("TextButton")

-- إعدادات الواجهة
MainGUI.Name = "DeltaTools"
MainGUI.ResetOnSpawn = false

MainFrame.Size = UDim2.new(0, 200, 0, 300)
MainFrame.Position = UDim2.new(0.5, -100, 0.5, -150)
MainFrame.BackgroundTransparency = 0.5

ToggleMap.Name = "ToggleMap"
ToggleMap.Size = UDim2.new(0, 180, 0, 40)
ToggleMap.Position = UDim2.new(0, 10, 0, 10)
ToggleMap.Text = "إخفاء الماب"

AFKButton.Name = "AFKButton"
AFKButton.Size = UDim2.new(0, 180, 0, 40)
AFKButton.Position = UDim2.new(0, 10, 0, 60)
AFKButton.Text = "وضع AFK"

ExtraBtn1.Name = "ExtraBtn1"
ExtraBtn1.Size = UDim2.new(0, 180, 0, 40)
ExtraBtn1.Position = UDim2.new(0, 10, 0, 110)
ExtraBtn1.Text = "زر إضافي 1"

ToggleButtons.Name = "ToggleButtons"
ToggleButtons.Size = UDim2.new(0, 180, 0, 40)
ToggleButtons.Position = UDim2.new(0, 10, 0, 160)
ToggleButtons.Text = "إخفاء الأزرار"

-- إضافة العناصر إلى الواجهة
MainFrame.Parent = MainGUI
ToggleMap.Parent = MainFrame
AFKButton.Parent = MainFrame
ExtraBtn1.Parent = MainFrame
ToggleButtons.Parent = MainFrame
MainGUI.Parent = PlayerGui

-- متغيرات التحكم
local MapHidden = false
local ButtonsVisible = true
local AFKMode = false

-- وظيفة إخفاء/إظهار الماب
local function ToggleMapVisibility()
    MapHidden = not MapHidden
    for _, obj in pairs(workspace:GetDescendants()) do
        if obj:IsA("BasePart") then
            obj.Transparency = MapHidden and 1 or 0
            obj.CanCollide = not MapHidden
        end
    end
end

-- وظيفة AFK
local function ToggleAFK()
    AFKMode = not AFKMode
    local Root = Player.Character:FindFirstChild("HumanoidRootPart")
    if Root then
        while AFKMode do
            wait(1)
            Root.CFrame = CFrame.new(0, 10000, 0)
        end
    end
end

-- وظيفة إخفاء الأزرار
local function ToggleGUIButtons()
    ButtonsVisible = not ButtonsVisible
    for _, btn in pairs(MainFrame:GetChildren()) do
        if btn:IsA("TextButton") then
            btn.Visible = ButtonsVisible
        end
    end
    ToggleButtons.Visible = true -- الإبقاء على زر التبديل مرئي
end

-- إعداد الأحداث
ToggleMap.MouseButton1Click:Connect(ToggleMapVisibility)
AFKButton.MouseButton1Click:Connect(ToggleAFK)
ToggleButtons.MouseButton1Click:Connect(ToggleGUIButtons)

-- إضافة زر إضافي مخصص (يمكنك تعديله)
ExtraBtn1.MouseButton1Click:Connect(function()
    game:GetService("StarterGui"):SetCore("SendNotification", {
        Title = "زر مخصص",
        Text = "هذا زر إضافي يمكنك برمجته!"
    })
end)

-- إخفاء الواجهة عند التحميل (استخدم INSERT لاستعادتها)
game:GetService("UserInputService").InputBegan:Connect(function(input)
    if input.KeyCode == Enum.KeyCode.Insert then
        MainGUI.Enabled = not MainGUI.Enabled
    end
end)
