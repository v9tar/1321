--[[
  سكربت D88 المتميز - النسخة المظلمة المطورة
  المميزات:
  1. واجهة قابلة للسحب بالكامل
  2. زر تحكم ذكي مع تأثيرات خاصة
  3. تصميم مظلم متطور
  4. تحسينات أداء عالية
]]

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local TweenService = game:GetService("TweenService")
local player = Players.LocalPlayer

-- إعدادات التصميم المظلم
local DarkTheme = {
    MainBackground = Color3.fromRGB(10, 10, 15),
    SecondaryBackground = Color3.fromRGB(20, 20, 30),
    TextColor = Color3.fromRGB(220, 220, 220),
    AccentColor = Color3.fromRGB(0, 150, 255),
    StrokeColor = Color3.fromRGB(50, 50, 80)
}

-- إنشاء الواجهة الرئيسية
local Gui = Instance.new("ScreenGui")
Gui.Name = "D88_DarkPro"
Gui.Parent = game:GetService("CoreGui")

local MainFrame = Instance.new("Frame")
MainFrame.Size = UDim2.new(0, 300, 0, 400)
MainFrame.Position = UDim2.new(0.5, -150, 0.5, -200)
MainFrame.BackgroundColor3 = DarkTheme.MainBackground
MainFrame.BackgroundTransparency = 0.05
MainFrame.Visible = false

-- إضافة تأثيرات خاصة للواجهة
local UIStroke = Instance.new("UIStroke")
UIStroke.Color = DarkTheme.StrokeColor
UIStroke.Thickness = 2
UIStroke.Parent = MainFrame

local UICorner = Instance.new("UICorner")
UICorner.CornerRadius = UDim.new(0, 12)
UICorner.Parent = MainFrame

-- زر التحكم الذكي
local ControlBtn = Instance.new("TextButton")
ControlBtn.Name = "ControlButton"
ControlBtn.Size = UDim2.new(0, 120, 0, 40)
ControlBtn.Position = UDim2.new(0.5, -60, 0.9, -50)
ControlBtn.Text = "فتح القائمة"
ControlBtn.Font = Enum.Font.GothamBold
ControlBtn.TextSize = 14
ControlBtn.TextColor3 = DarkTheme.TextColor
ControlBtn.BackgroundColor3 = DarkTheme.SecondaryBackground
ControlBtn.AutoButtonColor = false

-- إضافة تأثيرات للزر الذكي
local BtnCorner = Instance.new("UICorner")
BtnCorner.CornerRadius = UDim.new(0, 8)
BtnCorner.Parent = ControlBtn

local BtnStroke = Instance.new("UIStroke")
BtnStroke.Color = DarkTheme.AccentColor
BtnStroke.Thickness = 1
BtnStroke.Parent = ControlBtn

-- وظيفة تحريك العناصر
local function EnableDragging(frame)
    local dragging = false
    local dragInput, startPos
    
    frame.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 then
            dragging = true
            startPos = input.Position
            frame.ClipsDescendants = true
            
            input.Changed:Connect(function()
                if input.UserInputState == Enum.UserInputState.End then
                    dragging = false
                end
            end)
        end
    end)
    
    frame.InputChanged:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseMovement then
            dragInput = input
        end
    end)
    
    UserInputService.InputChanged:Connect(function(input)
        if input == dragInput and dragging then
            local delta = input.Position - startPos
            frame.Position = UDim2.new(
                frame.Position.X.Scale,
                frame.Position.X.Offset + delta.X,
                frame.Position.Y.Scale,
                frame.Position.Y.Offset + delta.Y
            )
        end
    end)
end

-- تأثيرات التفاعل مع الأزرار
local function ButtonEffects(btn)
    btn.MouseEnter:Connect(function()
        TweenService:Create(btn, TweenInfo.new(0.15), {
            BackgroundColor3 = DarkTheme.AccentColor,
            TextColor3 = Color3.new(1,1,1)
        }):Play()
    end)
    
    btn.MouseLeave:Connect(function()
        TweenService:Create(btn, TweenInfo.new(0.15), {
            BackgroundColor3 = DarkTheme.SecondaryBackground,
            TextColor3 = DarkTheme.TextColor
        }):Play()
    end)
end

-- تبديل حالة الواجهة
local function ToggleUI()
    MainFrame.Visible = not MainFrame.Visible
    ControlBtn.Text = MainFrame.Visible and "إغلاق القائمة" or "فتح القائمة"
    
    TweenService:Create(MainFrame, TweenInfo.new(0.3), {
        Position = MainFrame.Visible 
            and UDim2.new(0.5, -150, 0.5, -200)
            or UDim2.new(0.5, -150, 0.2, -200)
    }):Play()
end

-- إعدادات إضافية
ControlBtn.Parent = Gui
MainFrame.Parent = Gui
EnableDragging(MainFrame)
EnableDragging(ControlBtn)
ButtonEffects(ControlBtn)
ControlBtn.MouseButton1Click:Connect(ToggleUI)

-- إضافة عناصر القائمة هنا --

print("تم تحميل السكربت المطور بنجاح | إصدار 3.0")
