--[[
    سكربت D88 الإحترافي - النسخة الخفيفة
    المميزات:
    1. حجم مضغوط 40% أصغر من السابق
    2. زر AFK مدمج
    3. وضع توفير FPS (إخفاء العناصر)
    4. تحسينات أداء عالية
    5. دعم كافة الأجهزة
]]

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local TweenService = game:GetService("TweenService")
local MarketplaceService = game:GetService("MarketplaceService")
local UserInputService = game:GetService("UserInputService")

-- إعدادات الواجهة (مضغوطة 40%) --
local GUI_SETTINGS = {
    Size = UDim2.new(0, 200, 0, 270),
    Position = UDim2.new(0.5, -100, 0.5, -135),
    BackgroundTransparency = 0.1,
    Color = Color3.fromRGB(20, 25, 35)
}

-- النصوص العربية --
local ARABIC_TEXTS = {
    Title = "D88 الخفيف",
    MapControl = "تحكم الخرائط",
    DonateTitle = "دعم المطور",
    Donate5 = "5 💎",
    Donate10 = "10 💖",
    CloseUI = "إغلاق ▲",
    OpenUI = "فتح ▼",
    FPS = "FPS: ",
    Ping = "Ping: ",
    AFK = "وضع AFK",
    BoostFPS = "تعزيز FPS"
}

-- إنشاء الواجهة الرئيسية --
local D88UI = Instance.new("ScreenGui")
D88UI.Name = "D88_Light"
D88UI.ResetOnSpawn = false
D88UI.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
D88UI.Parent = game:GetService("CoreGui")

local MainFrame = Instance.new("Frame")
MainFrame.Size = GUI_SETTINGS.Size
MainFrame.Position = GUI_SETTINGS.Position
MainFrame.BackgroundColor3 = GUI_SETTINGS.Color
MainFrame.BackgroundTransparency = GUI_SETTINGS.BackgroundTransparency
MainFrame.AnchorPoint = Vector2.new(0.5, 0.5)
MainFrame.Parent = D88UI

-- تحسينات الشكل --
local UICorner = Instance.new("UICorner")
UICorner.CornerRadius = UDim.new(0, 6)
UICorner.Parent = MainFrame

local UIStroke = Instance.new("UIStroke")
UIStroke.Thickness = 1
UIStroke.Color = Color3.fromRGB(100, 150, 255)
UIStroke.Parent = MainFrame

-- العناصر الرئيسية --
local function CreateElement(type, props)
    local element = Instance.new(type)
    for prop, value in pairs(props) do
        element[prop] = value
    end
    return element
end

-- العنوان --
local Title = CreateElement("TextLabel", {
    Text = ARABIC_TEXTS.Title,
    Size = UDim2.new(0.9, 0, 0, 25),
    Position = UDim2.new(0.05, 0, 0.02, 0),
    TextColor3 = Color3.new(1, 1, 1),
    Font = Enum.Font.GothamBlack,
    TextSize = 14,
    BackgroundTransparency = 1,
    Parent = MainFrame
})

-- أزرار التحكم الأساسية --
local MapButton = CreateElement("TextButton", {
    Text = ARABIC_TEXTS.MapControl,
    Size = UDim2.new(0.9, 0, 0, 30),
    Position = UDim2.new(0.05, 0, 0.15, 0),
    BackgroundColor3 = Color3.fromRGB(0, 120, 180),
    TextColor3 = Color3.new(1, 1, 1),
    Font = Enum.Font.GothamBold,
    TextSize = 12,
    Parent = MainFrame
})

-- زر AFK --
local AFKButton = CreateElement("TextButton", {
    Text = ARABIC_TEXTS.AFK,
    Size = UDim2.new(0.44, 0, 0, 30),
    Position = UDim2.new(0.05, 0, 0.3, 0),
    BackgroundColor3 = Color3.fromRGB(80, 80, 120),
    TextColor3 = Color3.new(1, 1, 1),
    Font = Enum.Font.GothamBold,
    TextSize = 12,
    Parent = MainFrame
})

-- زر تعزيز FPS --
local FPSBoostButton = CreateElement("TextButton", {
    Text = ARABIC_TEXTS.BoostFPS,
    Size = UDim2.new(0.44, 0, 0, 30),
    Position = UDim2.new(0.51, 0, 0.3, 0),
    BackgroundColor3 = Color3.fromRGB(120, 0, 200),
    TextColor3 = Color3.new(1, 1, 1),
    Font = Enum.Font.GothamBold,
    TextSize = 12,
    Parent = MainFrame
})

-- نظام التبرعات المدمج --
local DonateFrame = CreateElement("Frame", {
    Size = UDim2.new(0.9, 0, 0, 60),
    Position = UDim2.new(0.05, 0, 0.45, 0),
    BackgroundTransparency = 1,
    Parent = MainFrame
})

CreateElement("TextLabel", {
    Text = ARABIC_TEXTS.DonateTitle,
    Size = UDim2.new(1, 0, 0, 20),
    TextColor3 = Color3.fromRGB(180, 180, 180),
    Font = Enum.Font.Gotham,
    TextSize = 12,
    BackgroundTransparency = 1,
    Parent = DonateFrame
})

local Donate5Button = CreateElement("TextButton", {
    Text = ARABIC_TEXTS.Donate5,
    Size = UDim2.new(0.48, 0, 0, 30),
    Position = UDim2.new(0, 0, 0.5, 0),
    BackgroundColor3 = Color3.fromRGB(0, 150, 70),
    TextColor3 = Color3.new(1, 1, 1),
    Font = Enum.Font.GothamBold,
    TextSize = 12,
    Parent = DonateFrame
})

local Donate10Button = CreateElement("TextButton", {
    Text = ARABIC_TEXTS.Donate10,
    Size = UDim2.new(0.48, 0, 0, 30),
    Position = UDim2.new(0.52, 0, 0.5, 0),
    BackgroundColor3 = Color3.fromRGB(140, 0, 220),
    TextColor3 = Color3.new(1, 1, 1),
    Font = Enum.Font.GothamBold,
    TextSize = 12,
    Parent = DonateFrame
})

-- نظام مراقبة الأداء --
local PerformanceFrame = CreateElement("Frame", {
    Size = UDim2.new(0.9, 0, 0, 40),
    Position = UDim2.new(0.05, 0, 0.7, 0),
    BackgroundTransparency = 1,
    Parent = MainFrame
})

local FPSLabel = CreateElement("TextLabel", {
    Text = ARABIC_TEXTS.FPS .. "0",
    Size = UDim2.new(0.45, 0, 0, 20),
    TextColor3 = Color3.new(0.5, 1, 0.5),
    Font = Enum.Font.GothamBold,
    TextSize = 12,
    BackgroundTransparency = 1,
    TextXAlignment = Enum.TextXAlignment.Left,
    Parent = PerformanceFrame
})

local PingLabel = CreateElement("TextLabel", {
    Text = ARABIC_TEXTS.Ping .. "0ms",
    Size = UDim2.new(0.45, 0, 0, 20),
    Position = UDim2.new(0.55, 0, 0, 0),
    TextColor3 = Color3.new(0.5, 0.8, 1),
    Font = Enum.Font.GothamBold,
    TextSize = 12,
    BackgroundTransparency = 1,
    TextXAlignment = Enum.TextXAlignment.Left,
    Parent = PerformanceFrame
})

-- زر التبديل الذكي --
local ToggleButton = CreateElement("TextButton", {
    Text = ARABIC_TEXTS.CloseUI,
    Size = UDim2.new(0, 100, 0, 25),
    Position = UDim2.new(0.5, -50, 1, -30),
    BackgroundColor3 = Color3.fromRGB(40, 45, 60),
    TextColor3 = Color3.new(1, 1, 1),
    Font = Enum.Font.GothamBold,
    TextSize = 11,
    Parent = D88UI
})

-- نظام السحب المحسن --
local dragging, dragInput, dragStart, startPos

local function UpdateInput(input)
    local delta = input.Position - dragStart
    MainFrame.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
    ToggleButton.Position = UDim2.new(0.5, -50, 1, -30) + UDim2.new(0, delta.X, 0, delta.Y)
end

MainFrame.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        dragging = true
        dragStart = input.Position
        startPos = MainFrame.Position
    end
end)

UserInputService.InputChanged:Connect(function(input)
    if dragging and input.UserInputType == Enum.UserInputType.MouseMovement then
        UpdateInput(input)
    end
end)

UserInputService.InputEnded:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        dragging = false
    end
end)

-- نظام التبرعات --
local GAMEPASS_IDS = {
    Donate5 = 1013443613
    Donate10 = 1013691424
}

local function HandleDonation(gamepassId)
    MarketplaceService:PromptGamePassPurchase(Players.LocalPlayer, gamepassId)
end

Donate5Button.MouseButton1Click:Connect(function()
    HandleDonation(GAMEPASS_IDS.Donate5)
end)

Donate10Button.MouseButton1Click:Connect(function()
    HandleDonation(GAMEPASS_IDS.Donate10)
end)

-- نظام AFK --
local AFKMode = false
AFKButton.MouseButton1Click:Connect(function()
    AFKMode = not AFKMode
    AFKButton.BackgroundColor3 = AFKMode and Color3.fromRGB(120, 120, 180) or
