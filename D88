-- D88 سكربت بواسطة j3oyx1
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local LocalPlayer = Players.LocalPlayer
local Mouse = LocalPlayer:GetMouse()

-- إنشاء الواجهة الرئيسية
local GUI = Instance.new("ScreenGui")
GUI.Name = "D88"
GUI.ResetOnSpawn = false
GUI.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

local MainFrame = Instance.new("Frame")
MainFrame.Size = UDim2.new(0, 120, 0, 35)
MainFrame.Position = UDim2.new(0.5, -60, 1, -160)
MainFrame.BackgroundColor3 = Color3.new(0, 0, 0)
MainFrame.BorderSizePixel = 0
MainFrame.ClipsDescendants = true

local ToggleButton = Instance.new("TextButton")
ToggleButton.Size = UDim2.new(1, 0, 0, 35)
ToggleButton.BackgroundColor3 = Color3.new(0.15, 0.15, 0.15)
ToggleButton.TextColor3 = Color3.new(1, 1, 1)
ToggleButton.Text = "القائمة الرئيسية ▼"
ToggleButton.Font = Enum.Font.GothamBold

local ContentFrame = Instance.new("Frame")
ContentFrame.Size = UDim2.new(1, 0, 0, 0)
ContentFrame.Position = UDim2.new(0, 0, 0, 35)
ContentFrame.BackgroundColor3 = Color3.new(0.1, 0.1, 0.1)

-- الإحصائيات والاعتمادات
local StatsLabel = Instance.new("TextLabel")
StatsLabel.Size = UDim2.new(1, 0, 0, 30)
StatsLabel.BackgroundTransparency = 1
StatsLabel.TextColor3 = Color3.new(1, 1, 1)
StatsLabel.Text = "البينج: -- | الإطارات: --"
StatsLabel.Font = Enum.Font.Gotham

local CreditLabel = Instance.new("TextLabel")
CreditLabel.Size = UDim2.new(1, 0, 0, 20)
CreditLabel.Position = UDim2.new(0, 0, 1, -20)
CreditLabel.BackgroundTransparency = 1
CreditLabel.TextColor3 = Color3.new(1, 1, 1)
CreditLabel.Text = "تم التطوير بواسطة j3oyx1"
CreditLabel.Font = Enum.Font.Gotham

-- إعدادات التخزين
local HiddenParts = {}
local HiddenPlayers = {}

-- الأزرار المخصصة
local Buttons = {
    {"إخفاء البلوكات", function()
        for _, part in ipairs(workspace:GetDescendants()) do
            if part:IsA("BasePart") and part.Name == "Block" then
                if part.Transparency == 1 then
                    part.Transparency = 0
                else
                    part.Transparency = 1
                    table.insert(HiddenParts, part)
                end
            end
        end
    end},
    
    {"إخفاء اللاعبين", function()
        for _, player in ipairs(Players:GetPlayers()) do
            if player ~= LocalPlayer and player.Character then
                local char = player.Character
                if char:FindFirstChild("HumanoidRootPart") then
                    if char.HumanoidRootPart.Transparency == 1 then
                        char.HumanoidRootPart.Transparency = 0
                    else
                        char.HumanoidRootPart.Transparency = 1
                        table.insert(HiddenPlayers, char)
                    end
                end
            end
        end
    end},
    
    {"إخفاء القائمة", function()
        GUI.Enabled = not GUI.Enabled
    end},
    
    {"إخفاء الكل", function()
        -- تفعيل جميع إخفاءات
        fireclickdetector(ToggleButton)
        Buttons[1][2]()
        Buttons[2][2]()
    end},
    
    {"وضع AFK", function()
        LocalPlayer.Idled:Connect(function()
            game:GetService("VirtualUser"):Button2Down(Vector2.new(0,0), workspace.CurrentCamera.CFrame)
            task.wait(1)
            game:GetService("VirtualUser"):Button2Up(Vector2.new(0,0), workspace.CurrentCamera.CFrame)
        end)
    end}
}

-- نظام إنشاء الأزرار
local function CreateButton(text, callback)
    local btn = Instance.new("TextButton")
    btn.Size = UDim2.new(1, -10, 0, 35)
    btn.Position = UDim2.new(0, 5, 0, 0)
    btn.BackgroundColor3 = Color3.new(0.2, 0.2, 0.2)
    btn.TextColor3 = Color3.new(1, 1, 1)
    btn.Text = text
    btn.Font = Enum.Font.Gotham
    btn.MouseButton1Click:Connect(callback)
    return btn
end

-- بناء الواجهة
ToggleButton.Parent = MainFrame
ContentFrame.Parent = MainFrame
StatsLabel.Parent = ContentFrame
CreditLabel.Parent = ContentFrame

local ButtonLayout = Instance.new("UIListLayout")
ButtonLayout.Padding = UDim.new(0, 5)
ButtonLayout.Parent = ContentFrame

for _, btnData in ipairs(Buttons) do
    CreateButton(btnData[1], btnData[2]).Parent = ContentFrame
end

MainFrame.Parent = GUI
GUI.Parent = game:GetService("CoreGui")

-- نظام السحب والإفلات
local dragging, dragInput, dragStart, startPos

MainFrame.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        dragging = true
        dragStart = input.Position
        startPos = MainFrame.Position
        
        input.Changed:Connect(function()
            if input.UserInputState == Enum.UserInputState.End then
                dragging = false
            end
        end)
    end
end)

MainFrame.InputChanged:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseMovement then
        dragInput = input
    end
end)

UserInputService.InputChanged:Connect(function(input)
    if dragging and input == dragInput then
        local delta = input.Position - dragStart
        MainFrame.Position = UDim2.new(
            startPos.X.Scale, 
            startPos.X.Offset + delta.X,
            startPos.Y.Scale,
            startPos.Y.Offset + delta.Y
        )
    end
end)

-- نظام التوسيع والطي
local isExpanded = false
ToggleButton.MouseButton1Click:Connect(function()
    isExpanded = not isExpanded
    ContentFrame.Size = UDim2.new(1, 0, 0, isExpanded and 250 or 0)
    ToggleButton.Text = isExpanded and "القائمة الرئيسية ▲" or "القائمة الرئيسية ▼"
end)

-- نظام مراقبة الأداء
RunService.Heartbeat:Connect(function()
    local ping = math.floor(game:GetService("Stats").Network.ServerStatsItem["Data Ping"]:GetValue())
    local fps = math.floor(1 / RunService.RenderStepped:Wait())
    StatsLabel.Text = string.format("البينج: %d | الإطارات: %d", ping, fps)
end)

-- اختصار لوحة المفاتيح (Ctrl+H لإظهار/إخفاء القائمة)
UserInputService.InputBegan:Connect(function(input)
    if input.KeyCode == Enum.KeyCode.H and UserInputService:IsKeyDown(Enum.KeyCode.LeftControl) then
        GUI.Enabled = not GUI.Enabled
    end
end)
